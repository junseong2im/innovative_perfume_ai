# Fragrance AI 환경 변수 예시
# 실제 배포 시에는 이 파일을 .env 또는 .env.production으로 복사하고 값들을 수정하세요.

# ==============================================================================
# 애플리케이션 설정
# ==============================================================================
ENVIRONMENT=production
SECRET_KEY=your-super-secret-key-change-this-in-production-at-least-32-characters-long
DEBUG=false

# ==============================================================================
# 데이터베이스 설정
# ==============================================================================
# PostgreSQL
DATABASE_URL=postgresql://fragrance_ai:your_secure_password@postgres:5432/fragrance_ai
POSTGRES_PASSWORD=your_secure_password

# Redis
REDIS_URL=redis://:your_redis_password@redis:6379/0
REDIS_PASSWORD=your_redis_password

# ChromaDB
CHROMA_HOST=chroma
CHROMA_PORT=8001
CHROMA_AUTH_TOKEN=your_chroma_token

# ==============================================================================
# AI 모델 설정
# ==============================================================================
# 임베딩 모델
EMBEDDING_MODEL_NAME=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
EMBEDDING_DEVICE=cuda
EMBEDDING_BATCH_SIZE=64

# 생성 모델
GENERATION_MODEL_NAME=microsoft/DialoGPT-medium
GENERATION_DEVICE=cuda
USE_4BIT_QUANTIZATION=true
USE_8BIT_QUANTIZATION=false

# ==============================================================================
# API 설정
# ==============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
FRONTEND_URL=https://your-frontend-domain.com

# CORS 설정
CORS_ORIGINS=["http://localhost:3000", "http://localhost:3001", "http://localhost:3002", "http://localhost:3003", "https://your-frontend-domain.com"]

# ==============================================================================
# 보안 설정
# ==============================================================================
# JWT 토큰
JWT_SECRET_KEY=your-jwt-secret-key-should-be-different-from-main-secret
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# API 키 (선택사항)
API_KEY_REQUIRED=true
ADMIN_API_KEY=your-admin-api-key

# Rate Limiting
RATE_LIMIT_ENABLED=true
REQUESTS_PER_MINUTE=100
REQUESTS_PER_HOUR=5000

# ==============================================================================
# 스토리지 및 파일 경로
# ==============================================================================
# 모델 저장 경로
MODEL_CACHE_DIR=/models
CHECKPOINT_DIR=/models/checkpoints

# 데이터 경로
DATA_DIR=/data
TRAINING_DATA_DIR=/data/training
EVALUATION_DATA_DIR=/data/evaluation

# 로그 경로
LOG_DIR=/logs
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true

# ==============================================================================
# 외부 서비스
# ==============================================================================
# Weights & Biases
WANDB_ENABLED=true
WANDB_API_KEY=your_wandb_api_key
WANDB_PROJECT=fragrance-ai-prod
WANDB_ENTITY=your_wandb_entity

# MLflow (선택사항)
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_EXPERIMENT_NAME=fragrance-ai

# ==============================================================================
# 모니터링 및 알림
# ==============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# 알림
ALERT_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
SLACK_CHANNEL=#fragrance-ai-alerts
ALERT_EMAIL=admin@your-domain.com

# ==============================================================================
# Celery 설정 (비동기 작업)
# ==============================================================================
CELERY_BROKER_URL=redis://:your_redis_password@redis:6379/1
CELERY_RESULT_BACKEND=redis://:your_redis_password@redis:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC

# ==============================================================================
# 백업 설정
# ==============================================================================
# AWS S3 백업 (선택사항)
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# 백업 보존 기간
BACKUP_RETENTION_DAYS=30

# ==============================================================================
# SSL/TLS 설정
# ==============================================================================
HTTPS_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/your-cert.pem
SSL_KEY_PATH=/etc/ssl/private/your-key.pem

# Let's Encrypt
LETSENCRYPT_EMAIL=admin@your-domain.com
DOMAIN_NAME=api.your-domain.com

# ==============================================================================
# 성능 및 스케일링 설정
# ==============================================================================
# 캐시 설정
CACHE_TTL_SECONDS=7200
SEARCH_CACHE_TTL=3600
GENERATION_CACHE_TTL=7200
MAX_CACHE_SIZE=10000

# 요청 제한
MAX_REQUEST_SIZE=10485760
REQUEST_TIMEOUT=300

# 워커 설정
GUNICORN_WORKERS=4
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=1

# ==============================================================================
# 개발/디버깅 설정
# ==============================================================================
# 개발 환경에서만 사용
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false

# 테스트 데이터
USE_TEST_DATA=false
MOCK_EXTERNAL_SERVICES=false

# ==============================================================================
# 라이센스 및 규정 준수
# ==============================================================================
# 모델 라이센스 추적
TRACK_MODEL_USAGE=true
COMMERCIAL_USE_APPROVED=true

# 개인정보보호
GDPR_COMPLIANT=true
LOG_USER_QUERIES=false
ANONYMIZE_LOGS=true